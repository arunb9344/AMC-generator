<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Service Report Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .tabs a {
            padding: 10px 20px;
            margin: 0 5px;
            text-decoration: none;
            color: #fff;
            background-color: #3498db;
            border-radius: 5px;
        }
        .tabs a:hover {
            background-color: #2980b9;
        }
        .form-section {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .form-section h2 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .checklist {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        .checklist label {
            display: flex;
            align-items: center;
        }
        .generate-btn {
            display: block;
            width: 100%;
            padding: 12px;
            background-color: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .generate-btn:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <h1>Service Report Generator</h1>
    <div class="tabs">
        <a href="#">AMC Agreement</a>
        <a href="#">Service Report</a>
    </div>

    <div class="form-section">
        <h2>Customer Details</h2>
        <div class="form-group">
            <label for="customer-name">Customer Name</label>
            <input type="text" id="customer-name" placeholder="Enter customer name">
        </div>
        <div class="form-group">
            <label for="customer-address">Customer Address</label>
            <input type="text" id="customer-address" placeholder="Enter customer address">
        </div>
        <div class="form-group">
            <label for="contact-person">Contact Person</label>
            <input type="text" id="contact-person" placeholder="Enter contact person">
        </div>
        <div class="form-group">
            <label for="customer-contact">Customer Contact Number</label>
            <input type="text" id="customer-contact" placeholder="Enter contact number">
        </div>
        <div class="form-group">
            <label for="customer-email">Customer Email</label>
            <input type="email" id="customer-email" placeholder="Enter email address">
        </div>
    </div>

    <div class="form-section">
        <h2>Service Details</h2>
        <div classUV class="form-group">
            <label for="service-type">Service Type</label>
            <select id="service-type">
                <option value="">Select Service Type</option>
                <option value="Maintenance Visit">Maintenance Visit</option>
                <option value="Breakdown Visit">Breakdown Visit</option>
            </select>
        </div>
        <div class="form-group">
            <label for="equipment-type">Equipment Type</label>
            <select id="equipment-type" onchange="toggleChecklists()">
                <option value="">Select Equipment Type</option>
                <option value="CCTV">CCTV</option>
                <option value="Biometrics & Access Control">Biometrics & Access Control</option>
                <option value="Video Door Bell">Video Door Bell</option>
                <option value="Fire Alarm">Fire Alarm</option>
            </select>
        </div>
        <div class="form-group">
            <label for="service-date">Service Date</label>
            <input type="date" id="service-date">
        </div>
        <div class="form-group">
            <label for="technician-name">Technician Name</label>
            <input type="text" id="technician-name" placeholder="Enter technician name">
        </div>
    </div>

    <div class="form-section" id="cctv-checklist" style="display: none;">
        <h2>CCTV Maintenance Checklist</h2>
        <div class="checklist">
            <label><input type="checkbox" id="cameras-live"> Cameras Live</label>
            <label><input type="checkbox" id="playback-working"> Playback Working</label>
            <label><input type="checkbox" id="hdd-healthy"> HDD Healthy</label>
            <label><input type="checkbox" id="date-time-accurate"> Date/Time Accurate</label>
            <label><input type="checkbox" id="remote-access"> Remote Access</label>
            <label><input type="checkbox" id="power-supply"> Power Supply</label>
            <label><input type="checkbox" id="lenses-clean"> Lenses Clean</label>
            <label><input type="checkbox" id="cables-secure"> Cables Secure</label>
        </div>
    </div>

    <div class="form-section" id="biometrics-checklist" style="display: none;">
        <h2>Biometrics & Access Control Checklist</h2>
        <div class="checklist">
            <label><input type="checkbox" id="fingerprint-working"> Fingerprint Scanner Working</label>
            <label><input type="checkbox" id="card-reader-working"> Card Reader Working</label>
            <label><input type="checkbox" id="door-lock-mechanism"> Door Lock Mechanism</label>
            <label><input type="checkbox" id="access-logs-updated"> Access Logs Updated</label>
            <label><input type="checkbox" id="user-database-backup"> User Database Backup</label>
            <label><input type="checkbox" id="sensor-calibration"> Sensor Calibration</label>
        </div>
    </div>

    <div class="form-section" id="video-doorbell-checklist" style="display: none;">
        <h2>Video Door Bell Checklist</h2>
        <div class="checklist">
            <label><input type="checkbox" id="video-quality-clear"> Video Quality Clear</label>
            <label><input type="checkbox" id="audio-quality-clear"> Audio Quality Clear</label>
            <label><input type="checkbox" id="motion-detection-working"> Motion Detection Working</label>
            <label><input type="checkbox" id="night-vision-working"> Night Vision Working</label>
            <label><input type="checkbox" id="mobile-app-connectivity"> Mobile App Connectivity</label>
            <label><input type="checkbox" id="doorbell-chime-working"> Doorbell Chime Working</label>
        </div>
    </div>

    <div class="form-section" id="fire-alarm-checklist" style="display: none;">
        <h2>Fire Alarm System Checklist</h2>
        <div class="checklist">
            <label><input type="checkbox" id="smoke-detectors-working"> Smoke Detectors Working</label>
            <label><input type="checkbox" id="heat-detectors-working"> Heat Detectors Working</label>
            <label><input type="checkbox" id="alarm-sounders-working"> Alarm Sounders Working</label>
            <label><input type="checkbox" id="control-panel-functional"> Control Panel Functional</label>
            <label><input type="checkbox" id="battery-backup-tested"> Battery Backup Tested</label>
            <label><input type="checkbox" id="manual-call-points-working"> Manual Call Points Working</label>
        </div>
    </div>

    <div class="form-section">
        <h2>Issue Description</h2>
        <div class="form-group">
            <label for="issue-description">Issue Description</label>
            <textarea id="issue-description" rows="4" placeholder="Describe any issues"></textarea>
        </div>
    </div>

    <div class="form-section">
        <h2>Technician Comments</h2>
        <div class="form-group">
            <label for="technician-comments">Technician Comments</label>
            <textarea id="technician-comments" rows="4" placeholder="Enter technician comments"></textarea>
        </div>
    </div>

    <button class="generate-btn" onclick="generatePDF()">Generate Service Report PDF</button>

    <script>
        const { jsPDF } = window.jspdf;

        function toggleChecklists() {
            const equipmentType = document.getElementById('equipment-type').value;
            const checklists = [
                'cctv-checklist',
                'biometrics-checklist',
                'video-doorbell-checklist',
                'fire-alarm-checklist'
            ];
            checklists.forEach(checklist => {
                document.getElementById(checklist).style.display = 'none';
            });
            if (equipmentType) {
                document.getElementById(equipmentType.toLowerCase().replace(/ & /g, '-').replace(/ /g, '-') + '-checklist').style.display = 'block';
            }
        }

        function generatePDF() {
            const doc = new jsPDF();
            
            // Set document properties
            doc.setProperties({
                title: 'Service Report',
                author: 'Service Team',
                creator: 'Service Report Generator'
            });

            // Header
            doc.setFillColor(0, 102, 204);
            doc.rect(0, 0, 210, 30, 'F');
            doc.setFontSize(20);
            doc.setTextColor(255, 255, 255);
            doc.text('Service Report', 105, 20, null, null, 'center');

            // Customer Details
            doc.setFontSize(14);
            doc.setTextColor(0, 0, 0);
            doc.text('Customer Details', 10, 40);
            doc.setLineWidth(0.5);
            doc.line(10, 42, 200, 42);

            doc.setFontSize(10);
            const customerDetails = [
                `Customer Name: ${document.getElementById('customer-name').value || 'N/A'}`,
                `Address: ${document.getElementById('customer-address').value || 'N/A'}`,
                `Contact Person: ${document.getElementById('contact-person').value || 'N/A'}`,
                `Contact Number: ${document.getElementById('customer-contact').value || 'N/A'}`,
                `Email: ${document.getElementById('customer-email').value || 'N/A'}`
            ];
            let y = 50;
            customerDetails.forEach(detail => {
                doc.text(detail, 10, y);
                y += 7;
            });

            // Service Details
            doc.setFontSize(14);
            doc.text('Service Details', 10, y + 10);
            doc.line(10, y + 12, 200, y + 12);
            doc.setFontSize(10);
            y += 20;
            const serviceDetails = [
                `Service Type: ${document.getElementById('service-type').value || 'N/A'}`,
                `Equipment Type: ${document.getElementById('equipment-type').value || 'N/A'}`,
                `Service Date: ${document.getElementById('service-date').value || 'N/A'}`,
                `Technician Name: ${document.getElementById('technician-name').value || 'N/A'}`
            ];
            serviceDetails.forEach(detail => {
                doc.text(detail, 10, y);
                y += 7;
            });

            // Checklist
            const equipmentType = document.getElementById('equipment-type').value;
            let checklistItems = [];
            if (equipmentType === 'CCTV') {
                checklistItems = [
                    `Cameras Live: ${document.getElementById('cameras-live').checked ? 'Yes' : 'No'}`,
                    `Playback Working: ${document.getElementById('playback-working').checked ? 'Yes' : 'No'}`,
                    `HDD Healthy: ${document.getElementById('hdd-healthy').checked ? 'Yes' : 'No'}`,
                    `Date/Time Accurate: ${document.getElementById('date-time-accurate').checked ? 'Yes' : 'No'}`,
                    `Remote Access: ${document.getElementById('remote-access').checked ? 'Yes' : 'No'}`,
                    `Power Supply: ${document.getElementById('power-supply').checked ? 'Yes' : 'No'}`,
                    `Lenses Clean: ${document.getElementById('lenses-clean').checked ? 'Yes' : 'No'}`,
                    `Cables Secure: ${document.getElementById('cables-secure').checked ? 'Yes' : 'No'}`
                ];
            } else if (equipmentType === 'Biometrics & Access Control') {
                checklistItems = [
                    `Fingerprint Scanner Working: ${document.getElementById('fingerprint-working').checked ? 'Yes' : 'No'}`,
                    `Card Reader Working: ${document.getElementById('card-reader-working').checked ? 'Yes' : 'No'}`,
                    `Door Lock Mechanism: ${document.getElementById('door-lock-mechanism').checked ? 'Yes' : 'No'}`,
                    `Access Logs Updated: ${document.getElementById('access-logs-updated').checked ? 'Yes' : 'No'}`,
                    `User Database Backup: ${document.getElementById('user-database-backup').checked ? 'Yes' : 'No'}`,
                    `Sensor Calibration: ${document.getElementById('sensor-calibration').checked ? 'Yes' : 'No'}`
                ];
            } else if (equipmentType === 'Video Door Bell') {
                checklistItems = [
                    `Video Quality Clear: ${document.getElementById('video-quality-clear').checked ? 'Yes' : 'No'}`,
                    `Audio Quality Clear: ${document.getElementById('audio-quality-clear').checked ? 'Yes' : 'No'}`,
                    `Motion Detection Working: ${document.getElementById('motion-detection-working').checked ? 'Yes' : 'No'}`,
                    `Night Vision Working: ${document.getElementById('night-vision-working').checked ? 'Yes' : 'No'}`,
                    `Mobile App Connectivity: ${document.getElementById('mobile-app-connectivity').checked ? 'Yes' : 'No'}`,
                    `Doorbell Chime Working: ${document.getElementById('doorbell-chime-working').checked ? 'Yes' : 'No'}`
                ];
            } else if (equipmentType === 'Fire Alarm') {
                checklistItems = [
                    `Smoke Detectors Working: ${document.getElementById('smoke-detectors-working').checked ? 'Yes' : 'No'}`,
                    `Heat Detectors Working: ${document.getElementById('heat-detectors-working').checked ? 'Yes' : 'No'}`,
                    `Alarm Sounders Working: ${document.getElementById('alarm-sounders-working').checked ? 'Yes' : 'No'}`,
                    `Control Panel Functional: ${document.getElementById('control-panel-functional').checked ? 'Yes' : 'No'}`,
                    `Battery Backup Tested: ${document.getElementById('battery-backup-tested').checked ? 'Yes' : 'No'}`,
                    `Manual Call Points Working: ${document.getElementById('manual-call-points-working').checked ? 'Yes' : 'No'}`
                ];
            }

            if (checklistItems.length > 0) {
                doc.setFontSize(14);
                doc.text(`${equipmentType} Checklist`, 10, y + 10);
                doc.line(10, y + 12, 200, y + 12);
                doc.setFontSize(10);
                y += 20;
                checklistItems.forEach(item => {
                    doc.text(item, 10, y);
                    y += 7;
                });
            }

            // Issue Description
            const issueDescription = document.getElementById('issue-description').value;
            if (issueDescription) {
                doc.setFontSize(14);
                doc.text('Issue Description', 10, y + 10);
                doc.line(10, y + 12, 200, y + 12);
                doc.setFontSize(10);
                y += 20;
                doc.text(doc.splitTextToSize(issueDescription, 190), 10, y);
                y += 7 * Math.ceil(issueDescription.length / 90) + 10;
            }

            // Technician Comments
            const technicianComments = document.getElementById('technician-comments').value;
            if (technicianComments) {
                doc.setFontSize(14);
                doc.text('Technician Comments', 10, y + 10);
                doc.line(10, y + 12, 200, y + 12);
                doc.setFontSize(10);
                y += 20;
                doc.text(doc.splitTextToSize(technicianComments, 190), 10, y);
            }

            // Footer
            doc.setFillColor(0, 102, 204);
            doc.rect(0, 280, 210, 20, 'F');
            doc.setFontSize(8);
            doc.setTextColor(255, 255, 255);
            doc.text('Generated by Service Report Generator', 105, 290, null, null, 'center');

            // Save the PDF
            doc.save('Service_Report.pdf');
        }
    </script>
</body>
</html>
